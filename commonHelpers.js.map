{"version":3,"file":"commonHelpers.js","sources":["../src/js/api-requests.js","../src/js/best-sellers.js","../src/js/scrollBtn.js","../src/js/category-list.js"],"sourcesContent":["import axios from 'axios';\n\nexport class API_SERVICE {\n  #BASE_URL = 'https://books-backend.p.goit.global/';\n\n  constructor(selectedCategory, bookId) {\n    this.selectedCategory = selectedCategory;\n    this.bookId = bookId;\n  }\n  // -------------Запит на категорії-----------------------------\n  fetchBooksCategoryList() {\n    return axios.get(`${this.#BASE_URL}books/category-list`);\n  }\n\n  // ---------------Запит на ТОП книги(бестселлери)-----------------\n\n  fetchBestSellersBooks() {\n    return axios.get(`${this.#BASE_URL}books/top-books`);\n  }\n\n  // -------------Запит на категорію книги, примає назву категорії книги (категорії в сайд барі і по кнопці see more) -----------------\n\n  fetchBooksByCategory(selectedCategory) {\n    return axios.get(\n      `${this.#BASE_URL}books/category?category=${selectedCategory}`\n    );\n  }\n  // -------------Запит на інформацію про книгу (приймає ID книги) -----------------\n  fetchBookById(bookId) {\n    return axios.get(`${this.#BASE_URL}books/${bookId}`);\n  }\n}\n","import { API_SERVICE} from \"./api-requests\";\n// import Notiflix from \"notiflix\";\n\nconst topBooksByCategories = document.querySelector('.best-sellers-books')\nconst apiCategories = new API_SERVICE();\n\n bestSellersMarkup();\n \nasync function bestSellersMarkup () {\n    let result = await apiCategories\n    .fetchBestSellersBooks()\n    // console.log(result)\n    .then(topCategories => {\n        return topCategories.data\n        .map((topCategory) => {\n            // const {book} = bookAttributes;\n\n            // console.log(topCategory);\n            const booksArr = topCategory.books.map((book)=>\n             `<li class=\"best-sellers-book\" data-book-id=\"${book._id}\">\n             <img class=\"best-sellers-book-img\" src=\"${book.book_image}\" alt=\"${book.title}\" />\n             <p class=\"best-sellers-book-title\">${book.title}</p>\n             <p class=\"best-sellers-book-author\">${book.author}</p>\n</li>`\n            ).join('');\n            // console.log(booksArr);\n            \n            topBooksByCategories.insertAdjacentHTML('beforeend', \n            `<li class=\"best-seller-category\"> \n                <p class=\"category-title\"> ${topCategory.list_name} </p> \n                <ul class=\"best-sellers-list-in-category\">\n                ${booksArr} \n                </ul> \n                <button type=\"button\" class=\"best-sellers-see-more-button\" data-button-category-name=\"${topCategory.list_name}\">See more</button>\n                    </li>`)\n        }).join('')\n    })\n    .catch(error => {\n        console.log(error.message);\n        topBooksByCategories.innerHTML = 'No information';\n      });\n\n    return result;\n    }\n\n","export const scrollBtn = {\n  btn: document.querySelector('.scrollBtn'),\n  show() {\n    this.btn.classList.remove('scrollBtn-hide');\n  },\n  hide() {\n    this.btn.classList.add('scrollBtn-hide');\n  },\n  addEventListener() {\n    if (this.btn) {\n      window.addEventListener('scroll', () => {\n        const scrollY = window.scrollY || document.documentElement.scrollTop;\n        scrollY > 100 ? this.show() : this.hide();\n      });\n      this.btn.onclick = () => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      };\n    }\n  },\n};\nscrollBtn.addEventListener();\n","import { API_SERVICE } from \"./api-requests\";\n\nconst category = document.querySelector('.category');\n\n\nfunction listMarkup(genre) {\n\n    genre.sort((a, b) => a.list_name.localeCompare(b.list_name));\n    const markup = genre.map(genre => {\n        const { list_name } = genre;\n        return `<li><a class='genre' href=\"#\" target=\"_self\">${list_name}</a></li>`\n    }).join('');\n    category.insertAdjacentHTML('beforeend', markup);\n   \n}\n\nfunction createList() {\n\n    const apiService = new API_SERVICE();\n    apiService.fetchBooksCategoryList()\n        .then(response => {\n            const data = response.data\n            console.log(data);\n            listMarkup(data);\n        }\n        \n        )\n        .catch(error => { console.error(error) });\n}\n\ncreateList();\n\n\n"],"names":["API_SERVICE","selectedCategory","bookId","__privateAdd","_BASE_URL","axios","__privateGet","topBooksByCategories","apiCategories","bestSellersMarkup","topCategories","topCategory","booksArr","book","error","scrollBtn","category","listMarkup","genre","a","b","markup","list_name","createList","response","data"],"mappings":"qgCAEO,MAAMA,CAAY,CAGvB,YAAYC,EAAkBC,EAAQ,CAFtCC,EAAA,KAAAC,EAAY,wCAGV,KAAK,iBAAmBH,EACxB,KAAK,OAASC,CACf,CAED,wBAAyB,CACvB,OAAOG,EAAM,IAAI,GAAGC,EAAA,KAAKF,uBAA8B,CACxD,CAID,uBAAwB,CACtB,OAAOC,EAAM,IAAI,GAAGC,EAAA,KAAKF,mBAA0B,CACpD,CAID,qBAAqBH,EAAkB,CACrC,OAAOI,EAAM,IACX,GAAGC,EAAA,KAAKF,6BAAoCH,GAClD,CACG,CAED,cAAcC,EAAQ,CACpB,OAAOG,EAAM,IAAI,GAAGC,EAAA,KAAKF,WAAkBF,GAAQ,CACpD,CACH,CA5BEE,EAAA,YCAF,MAAMG,EAAuB,SAAS,cAAc,qBAAqB,EACnEC,EAAgB,IAAIR,EAEzBS,IAED,eAAeA,GAAqB,CAkChC,OAjCa,MAAMD,EAClB,sBAAuB,EAEvB,KAAKE,GACKA,EAAc,KACpB,IAAKC,GAAgB,CAIlB,MAAMC,EAAWD,EAAY,MAAM,IAAKE,GACvC,+CAA+CA,EAAK;AAAA,uDACVA,EAAK,oBAAoBA,EAAK;AAAA,kDACnCA,EAAK;AAAA,mDACJA,EAAK;AAAA,MAExD,EAAc,KAAK,EAAE,EAGTN,EAAqB,mBAAmB,YACxC;AAAA,6CACiCI,EAAY;AAAA;AAAA,kBAEvCC;AAAA;AAAA,wGAEsFD,EAAY;AAAA,0BAC1F,CAC1B,CAAS,EAAE,KAAK,EAAE,CACb,EACA,MAAMG,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,EACzBP,EAAqB,UAAY,gBACzC,CAAO,CAGP,CC3CO,MAAMQ,EAAY,CACvB,IAAK,SAAS,cAAc,YAAY,EACxC,MAAO,CACL,KAAK,IAAI,UAAU,OAAO,gBAAgB,CAC3C,EACD,MAAO,CACL,KAAK,IAAI,UAAU,IAAI,gBAAgB,CACxC,EACD,kBAAmB,CACb,KAAK,MACP,OAAO,iBAAiB,SAAU,IAAM,EACtB,OAAO,SAAW,SAAS,gBAAgB,WACjD,IAAM,KAAK,KAAI,EAAK,KAAK,MAC3C,CAAO,EACD,KAAK,IAAI,QAAU,IAAM,CACvB,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QACpB,CAAS,CACT,EAEG,CACH,EACAA,EAAU,iBAAkB,ECrB5B,MAAMC,EAAW,SAAS,cAAc,WAAW,EAGnD,SAASC,EAAWC,EAAO,CAEvBA,EAAM,KAAK,CAACC,EAAGC,IAAMD,EAAE,UAAU,cAAcC,EAAE,SAAS,CAAC,EAC3D,MAAMC,EAASH,EAAM,IAAIA,GAAS,CAC9B,KAAM,CAAE,UAAAI,CAAW,EAAGJ,EACtB,MAAO,gDAAgDI,YAC/D,CAAK,EAAE,KAAK,EAAE,EACVN,EAAS,mBAAmB,YAAaK,CAAM,CAEnD,CAEA,SAASE,GAAa,CAEC,IAAIvB,IACZ,uBAAwB,EAC9B,KAAKwB,GAAY,CACd,MAAMC,EAAOD,EAAS,KACtB,QAAQ,IAAIC,CAAI,EAChBR,EAAWQ,CAAI,CAClB,CAEA,EACA,MAAMX,GAAS,CAAE,QAAQ,MAAMA,CAAK,CAAC,CAAE,CAChD,CAEAS,EAAY"}